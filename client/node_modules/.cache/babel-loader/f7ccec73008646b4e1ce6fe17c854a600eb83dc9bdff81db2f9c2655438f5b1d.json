{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../contexts/AuthContext';import{useLives}from'../contexts/LivesContext';import{X,Gift,Heart}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ShareLivesModal=_ref=>{let{onClose,currentUserData,otherUserId}=_ref;const{user}=useAuth();const{shareLives}=useLives();const[livesToShare,setLivesToShare]=useState(1);const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const success=await shareLives(otherUserId,livesToShare);if(success){onClose();}}catch(error){console.error('Error sharing lives:',error);}finally{setLoading(false);}};const maxLivesToShare=Math.min(currentUserData.currentLives,5);// Limit to 5 lives max\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"modal-close\",children:/*#__PURE__*/_jsx(X,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(Gift,{size:50,color:\"#667eea\",style:{marginBottom:'15px'}}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#667eea',marginBottom:'10px'},children:\"Share Lives\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666'},children:\"Give some of your lives to your partner\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'10px',fontWeight:'bold',color:'#333'},children:\"Number of lives to share:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setLivesToShare(Math.max(1,livesToShare-1)),disabled:livesToShare<=1,style:{width:'40px',height:'40px',border:'2px solid #667eea',borderRadius:'50%',background:'white',color:'#667eea',fontSize:'20px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#667eea',minWidth:'60px',textAlign:'center'},children:livesToShare}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setLivesToShare(Math.min(maxLivesToShare,livesToShare+1)),disabled:livesToShare>=maxLivesToShare,style:{width:'40px',height:'40px',border:'2px solid #667eea',borderRadius:'50%',background:'white',color:'#667eea',fontSize:'20px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8f9ff',padding:'15px',borderRadius:'10px',border:'1px solid #e1e5e9'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,color:'#666',fontSize:'0.9rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Your current lives:\"}),\" \",currentUserData.currentLives]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',color:'#666',fontSize:'0.9rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Lives after sharing:\"}),\" \",currentUserData.currentLives-livesToShare]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',color:'#667eea',fontSize:'0.9rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Partner will receive:\"}),\" \",livesToShare,\" lives\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn btn-secondary\",style:{flex:1},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",disabled:loading||currentUserData.currentLives===0,style:{flex:1},children:loading?'Sharing...':'Share Lives'})]})]})]})});};export default ShareLivesModal;","map":{"version":3,"names":["React","useState","useAuth","useLives","X","Gift","Heart","jsx","_jsx","jsxs","_jsxs","ShareLivesModal","_ref","onClose","currentUserData","otherUserId","user","shareLives","livesToShare","setLivesToShare","loading","setLoading","handleSubmit","e","preventDefault","success","error","console","maxLivesToShare","Math","min","currentLives","className","children","onClick","size","style","textAlign","marginBottom","color","onSubmit","display","fontWeight","alignItems","gap","type","max","disabled","width","height","border","borderRadius","background","fontSize","cursor","justifyContent","minWidth","padding","margin","flex"],"sources":["C:/Users/ADMIN/Documents/no counter/client/src/components/ShareLivesModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useLives } from '../contexts/LivesContext';\r\nimport { X, Gift, Heart } from 'lucide-react';\r\n\r\nconst ShareLivesModal = ({ onClose, currentUserData, otherUserId }) => {\r\n  const { user } = useAuth();\r\n  const { shareLives } = useLives();\r\n  const [livesToShare, setLivesToShare] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const success = await shareLives(otherUserId, livesToShare);\r\n      if (success) {\r\n        onClose();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sharing lives:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const maxLivesToShare = Math.min(currentUserData.currentLives, 5); // Limit to 5 lives max\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-content\">\r\n        <button onClick={onClose} className=\"modal-close\">\r\n          <X size={24} />\r\n        </button>\r\n\r\n        <div style={{ textAlign: 'center', marginBottom: '30px' }}>\r\n          <Gift size={50} color=\"#667eea\" style={{ marginBottom: '15px' }} />\r\n          <h2 style={{ color: '#667eea', marginBottom: '10px' }}>\r\n            Share Lives\r\n          </h2>\r\n          <p style={{ color: '#666' }}>\r\n            Give some of your lives to your partner\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div style={{ marginBottom: '30px' }}>\r\n            <label style={{ display: 'block', marginBottom: '10px', fontWeight: 'bold', color: '#333' }}>\r\n              Number of lives to share:\r\n            </label>\r\n            \r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '15px', marginBottom: '15px' }}>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setLivesToShare(Math.max(1, livesToShare - 1))}\r\n                disabled={livesToShare <= 1}\r\n                style={{\r\n                  width: '40px',\r\n                  height: '40px',\r\n                  border: '2px solid #667eea',\r\n                  borderRadius: '50%',\r\n                  background: 'white',\r\n                  color: '#667eea',\r\n                  fontSize: '20px',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n              >\r\n                -\r\n              </button>\r\n              \r\n              <div style={{ \r\n                fontSize: '2rem', \r\n                fontWeight: 'bold', \r\n                color: '#667eea',\r\n                minWidth: '60px',\r\n                textAlign: 'center'\r\n              }}>\r\n                {livesToShare}\r\n              </div>\r\n              \r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setLivesToShare(Math.min(maxLivesToShare, livesToShare + 1))}\r\n                disabled={livesToShare >= maxLivesToShare}\r\n                style={{\r\n                  width: '40px',\r\n                  height: '40px',\r\n                  border: '2px solid #667eea',\r\n                  borderRadius: '50%',\r\n                  background: 'white',\r\n                  color: '#667eea',\r\n                  fontSize: '20px',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n            \r\n            <div style={{ \r\n              background: '#f8f9ff', \r\n              padding: '15px', \r\n              borderRadius: '10px',\r\n              border: '1px solid #e1e5e9'\r\n            }}>\r\n              <p style={{ margin: 0, color: '#666', fontSize: '0.9rem' }}>\r\n                <strong>Your current lives:</strong> {currentUserData.currentLives}\r\n              </p>\r\n              <p style={{ margin: '5px 0 0 0', color: '#666', fontSize: '0.9rem' }}>\r\n                <strong>Lives after sharing:</strong> {currentUserData.currentLives - livesToShare}\r\n              </p>\r\n              <p style={{ margin: '5px 0 0 0', color: '#667eea', fontSize: '0.9rem' }}>\r\n                <strong>Partner will receive:</strong> {livesToShare} lives\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', gap: '10px' }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"btn btn-secondary\"\r\n              style={{ flex: 1 }}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-success\"\r\n              disabled={loading || currentUserData.currentLives === 0}\r\n              style={{ flex: 1 }}\r\n            >\r\n              {loading ? 'Sharing...' : 'Share Lives'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareLivesModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}